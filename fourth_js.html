<HTML>
	<HEAD>
		<TITLE>Battery Charger</TITLE>
		<STYLE>
			#battery{
				position: relative;
				width: 500px;
				height: 200px;
				border: 7px solid black;
			}

			#battery:after{
				content: '';
				background: black;
				position: absolute;
				left: 100%;
				top: 10px;
				width: 30px;
				height: 180px;
			}
			
			#status{
				position: absolute;
				left: 0;
				top: 0;
				border: 30px 0;
				width: 0;
				height: 100%;
				background: #dbff87;
				background: linear-gradient(to bottom, #dbff87 0%,#bef40c 48%,#b7df2d 100%);
			}
		</STYLE>
	</HEAD>
	<BODY>
		<div id="battery">
			<div id="status"></div>
		</div>
		<SCRIPT>
        var frameRef = 0;
        var battery = document.getElementById('battery');
        var batterystatus = document.getElementById('status');
        var charge = 0;
			
function updatebattery(){
	charge = charge + 1;
	batterystatus.style.width = charge + '%';
    frameRef = requestAnimationFrame(updatebattery);
    if (charge >= 100) {
        cancelAnimationFrame(frameRef);
    }
}
	frameRef = requestAnimationFrame(updatebattery);

//Drain the battery (NOT WORKING)
function drainBattery(){
    charge = charge - 1;
    batterystatus.style.width = charge + '&';
    frameRef = requestAnimationFrame(drainBattery);
    if (charge <= 0) {
        cancelAnimationFrame(frameRef);
    }
}



			
	//SOURCES:
	//Linear gradient: https://developer.mozilla.org/en-US/docs/Web/CSS/linear-gradient()
	//Battery Animation: http://www.javascriptkit.com/javatutors/requestanimationframe.shtml
		</SCRIPT>
	</BODY>
</HTML>